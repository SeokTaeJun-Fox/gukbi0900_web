<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>fetch-task04</title>
</head>
<body>
  <ul id="result"></ul>
</body>
<script>
  // https://jsonplaceholder.typicode.com/users
  // city, zipcode
  // city만 화면에 list로 출력하고
  // zipcode의 번호 앞글자 6자리로 글자의 색상으로 지정하기
  // ex) 92998-3874 -> #929983

  const parent = document.querySelector("#result");

  const printResult = async () => {
    const response = await fetch("https://jsonplaceholder.typicode.com/users");
    const content = await response.json();
    console.log(content);

    let city = "";
    let zipcode = ""; 
    content.forEach((data) => {
      city = data.address.city;
      zipcode = data.address.zipcode;
      zipcode = zipcode.replace("-", "").slice(0,6);
      
      parent.innerHTML += `<li><span style="color:#${zipcode};">${city}</span></li>`;
    })

    //다른 풀이 (필요한 값만 뽑아서 출력)
    // const newDatas = content.map((data) => {
    //   const tmp = {};
    //   city = data.address.city;
    //   zipcode = data.address.zipcode;
    //   zipcode = zipcode.replace("-", "").slice(0,6);

    //   tmp["city"] = city;
    //   tmp["zipcode"] = zipcode;

    //   return tmp;
    // });

    // newDatas.forEach((data) => {
    //   parent.innerHTML += `<li><span style="color:#${data.zipcode};">${data.city}</span></li>`;
    // });
  };

  printResult();
</script>
</html>