<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/fetch02.css">
  <title>화면에 이미지 불러오기</title>
</head>
<body>
  <div id="Element-wrap">
    <!-- <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div>
    <div class="element">
      <div class="image-wrap">
        <img src="https://picsum.photos/id/0/5000/3333", alt="테스트", class="img" />
      </div>
      <span class="content">내용</span>
    </div> -->
  </div>
</body>
<script>
  // https://picsum.photos/v2/list?page=1&limit=10](https://picsum.photos/v2/list?page=1&limit=10)
  //정적으로 생성된 태그활용
  // const elementImgs = document.querySelectorAll(".img")
  // const elementContent = document.querySelectorAll(".element .content");

  // const print = async () => {
  //   const response = await fetch("https://picsum.photos/v2/list?page=1&limit=10");
  //   const jsonData = await response.json();
  //   console.log(jsonData);

  //   jsonData.forEach((data, i) => {
  //     elementImgs[i].src = data.download_url;
  //     elementContent[i].innerText = data.author;
  //   });
  // }

  // print();

  //다른 풀이 : div태그 직접생성하여 집어넣기
  const elementParent = document.querySelector("#Element-wrap");
  const elements = new Array();

  const print = async () => {
    const response = await fetch("https://picsum.photos/v2/list?page=1&limit=10");
    const jsonData = await response.json();

    jsonData.forEach((data, i) => {
      const element = document.createElement("div");
      element.className = "element";

      const imageWrap = document.createElement("div");
      imageWrap.className = "image-wrap";
      element.appendChild(imageWrap);

      const img = document.createElement("img");
      img.src = data.download_url;
      img.alt = data.id;
      img.className = "img";
      imageWrap.appendChild(img);

      const spanContent = document.createElement("span");
      spanContent.className = "content";
      spanContent.innerText = data.author;
      element.appendChild(spanContent);
      elementParent.appendChild(element);
    });
  }

  print();
</script>
</html>

<!-- 강사님 답안 -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>화면에 이미지 불러오기</title>
</head>
<body>
  <ul id="result"></ul>
</body>
<script>

  const result = document.querySelector("#result")

  // https://picsum.photos/v2/list?page=1&limit=10](https://picsum.photos/v2/list?page=1&limit=10)
  const getDatas = async () => {
    const response = await fetch("https://picsum.photos/v2/list?page=1&limit=10](https://picsum.photos/v2/list?page=1&limit=10)")
    const photos = await response.json()
    photos.slice(0, 10).forEach((photo) => {
      // const li = document.createElement("li")
      // li.setAttribute("class", "내가만든클래스")
      // li.removeAttribute("class")

      result.innerHTML += `
        <li>
          <div class='thumb-wrap'>
            <img class='thumb' src='${photo.download_url}' />
            <span>${photo.author}</span>
          </div>
        </li>
      `
    })
  }

  getDatas()


</script>
</html> -->